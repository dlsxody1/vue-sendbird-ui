

## **1. 프로젝트 소개**

- 인티그레이션 내 모든 서비스에 탑재되는 웹 채팅 프로덕트입니다.
- 프로젝트 요구사항입니다.

|기능|컴포넌트|설명|
|:---|:---|:---|
|채팅방(루트 컴포넌트)|MessageWidget|• Channel Id, User Id 를 prop 으로 설정 , 올바르지 않은 파라미터 입력시 fallback 메시지|
|메세지 목록|MessageLog|• (입력창 위치에 따라 정렬 방향도 맞춰줘야 함), Infinite Scroll|
|메시지 검색|MessageSearch |• 단순 검색만 (날짜 선택 검색 X), 검색결과 포커스 위/아래 이동|
|메세지 입력창|MessageInput |• 입력창 위치 상단/하단 토글 가능해야 함 |

이외의 파일첨부, 사진 찍어서 보내기 등의 기능이 있지만 제가 맡은 부분은 이것들이었습니다.

### **2. 개발 인원 및 기간**

- 개발기간 : 2022/07/20 ~ 2022/08/11
- 개발 인원

  - 프론트엔드(2명) : 김인태, 김보미
  
### **3. 적용 기술**

- Vue.js 2.0, javascript, sendbird API , notion, slack

### **구현 기능**

[Login]
- 카카오톡 로그인을 구현했습니다. 전 프로젝트와 공통되는 부분은 제거했습니다. (회원가입을 이메일로 하는 것)
- ![kakao원리](https://user-images.githubusercontent.com/62875596/179350634-e15adbd0-8819-4d91-b1a6-3a79ef449a3c.PNG)
- 원리는 이러합니다. 저희 팀은 Rest API를 사용해서 만들었습니다. axios를 이용한 통신을 했고, 카카오에서 발급하는 토큰을 가지고, 백엔드에 전달했을 떄 백엔드의
서비스 토큰을 받아서 회원이 되었을 때 기능들을 사용할 수 있게 하였습니다.
- 개인정보 유출을 방지하기위해서 .env 파일을 만들어서 APIKEY들을 관리했습니다.
![인태님로그인](https://user-images.githubusercontent.com/62875596/179350913-ec2797de-12d2-47ea-b51c-199414b662ef.gif)

[Booking]
- new Date 함수를 사용해서 몇박인지 계산해서 렌더링했습니다.
- 결제화면 전에 있는 URL을 가져오기 위해서 location.search 메소드를 사용했습니다.
- 결제할 때는 토큰이 필요하기 때문에 fetch할 때 헤더에 토큰을 담아줬습니다.
- 핸드폰 번호만 입력할 수 잇게 해놓은 이유는 카카오로 로그인 할 떄 받을 정보를 정할 수 있는데 핸드폰 번호는 얻을 수 없기 때문에
입력하는 칸을 만들었고 method PATCH로 백엔드 데이터에 접근해 등록해줬습니다.
- 결제 버튼을 누를 때도 마찬가지로 헤더에 토큰을 담아줬고 body에 정보들을 담아서 보내줬습니다.

![인태님예약화면](https://user-images.githubusercontent.com/62875596/179351279-9c0e212f-27b9-4c9b-a6a6-8f90c06a7818.gif)

### **아쉬웠던 점**
- 기한 날짜까지 완벽했다고 생각했는데 자꾸 우리쪽 서비스 토큰이 담기지 않아서 발급된 토큰을 넣어서 썼던 것이 아쉬웠습니다.
- 결제버튼을 누르면 user의 크레딧이 깎여야하는데 정보수정이 제대로 안되어서 아쉬웠습니다.
- 다른 소셜로그인(네이버, 구글등), 여타 추가기능을 시간상 구현 못한 것이 아쉬웠습니다.
- 새로운 hooks를 써보고 싶었는데 크게 필요한 부분이 없었던 것이 아쉬웠습니다.

## **Reference**

- 이 프로젝트는 [마이리얼트립](https://www.myrealtrip.com/) 사이트를 참조하여 학습 목적으로 만들었습니다.
- 실무수준의 프로젝트이지만 학습용으로 만들었기 때문에 이 코드를 활용하여 이득을 취하거나 무단 배포할 경우 법적으로 문제될 수 있습니다.
